# 爬山演算法
將基礎的爬山演算法函式寫在[hillClimbing.py](04-framework/hillClimbing.py)<br>
以能量的觀點來思考，能量與高度相反，高度是找最高點，能量是找最低點。<br>
利用[solution.py](04-framework/solution.py)來轉換高度跟能量。<br>
## hillClimbingNumber.py
[hillClimbingNumber.py](04-framework\hillClimbingNumber.py)與上周的hillclimbing1.py功能類似。<br>
利用 hillclimbingNumber.py 求 | x^2 - 4 | 的解<br>
![](https://github.com/ja1223/ai109b/blob/main/0304/images/hillclimbingNumber.jpg)<br>
因為亂數決定移動的方向，所以會產生2跟-2兩種解。<br>
執行結果(解 = 2):<br>
```
C:\Users\user\Desktop\ai\ai109b\0304\04-framework>python hillClimbingNumber.py
start:  energy(0.000)=4.000
0 : energy(0.010)=4.000
1 : energy(0.020)=4.000
3 : energy(0.030)=3.999
4 : energy(0.040)=3.998
5 : energy(0.050)=3.998
6 : energy(0.060)=3.996
9 : energy(0.070)=3.995
(中間省略)
366 : energy(1.960)=0.158
369 : energy(1.970)=0.119
375 : energy(1.980)=0.080
378 : energy(1.990)=0.040
379 : energy(2.000)=0.000
solution:  energy(2.000)=0.000
```
執行結果(解 = -2):<br>
```
C:\Users\user\Desktop\ai\ai109b\0304\04-framework>python hillClimbingNumber.py
start:  energy(0.000)=4.000
0 : energy(-0.010)=4.000
4 : energy(-0.020)=4.000
6 : energy(-0.030)=3.999
8 : energy(-0.040)=3.998
9 : energy(-0.050)=3.998
12 : energy(-0.060)=3.996
(中間省略)
377 : energy(-1.940)=0.236
378 : energy(-1.950)=0.197
379 : energy(-1.960)=0.158
380 : energy(-1.970)=0.119
381 : energy(-1.980)=0.080
382 : energy(-1.990)=0.040
384 : energy(-2.000)=0.000
solution:  energy(-2.000)=0.000
```
## hillClimbingArray.py
利用[hillClimbingArray.py](04-framework\hillClimbingArray.py)求 x^2 + 3y^2 + z^2 - 4x - 3y - 5z + 8 的解。<br>
執行結果:<br>
```
C:\Users\user\Desktop\ai\ai109b\0304\04-framework>python hillClimbingArray.py
start:  energy([1, 1, 1])=1.000000
2 : energy([1, 0.99, 1])=0.970300
3 : energy([1, 0.98, 1])=0.941200
5 : energy([1.01, 0.98, 1])=0.921300
6 : energy([1.01, 0.97, 1])=0.892800
7 : energy([1.02, 0.97, 1])=0.873100
8 : energy([1.02, 0.96, 1])=0.845200
11 : energy([1.02, 0.95, 1])=0.817900
12 : energy([1.02, 0.94, 1])=0.791200
(中間省略)
918 : energy([2.000000000000001, 0.49999999999999956, 2.4399999999999915])=-2.996400
922 : energy([2.000000000000001, 0.49999999999999956, 2.4499999999999913])=-2.997500
924 : energy([2.000000000000001, 0.49999999999999956, 2.459999999999991])=-2.998400
928 : energy([2.000000000000001, 0.49999999999999956, 2.469999999999991])=-2.999100
929 : energy([2.000000000000001, 0.49999999999999956, 2.4799999999999907])=-2.999600
939 : energy([2.000000000000001, 0.49999999999999956, 2.4899999999999904])=-2.999900
941 : energy([2.000000000000001, 0.49999999999999956, 2.4999999999999902])=-3.000000
solution:  energy([2.000000000000001, 0.49999999999999956, 2.4999999999999902])=-3.000000
```
## hillClimbingEquation.py
利用[hillClimbingEquation.py](04-framework\hillClimbingEquation.py)求聯立方程式的解。<br>
執行結果:<br>
```
C:\Users\user\Desktop\ai\ai109b\0304\04-framework>python hillClimbingEquation.py
start:  energy([[0. 0. 0.]])=2.449490
1 : energy([[-0.00609901  0.00928858  0.        ]])=2.444282
2 : energy([[-0.00599859  0.01631615  0.        ]])=2.432737
3 : energy([[-0.01386364  0.02253069  0.00673913]])=2.416567
5 : energy([[-0.00720435  0.02830941  0.00213808]])=2.409779
8 : energy([[0.00202626 0.02830941 0.00891482]])=2.379031   
9 : energy([[0.01212479 0.02830941 0.00364924]])=2.378208
(中間省略)
5536 : energy([[-4.98767168  3.00682077  1.98968226]])=0.008025
5561 : energy([[-4.98880958  3.00834085  1.98968226]])=0.007958
5564 : energy([[-5.0014102   3.00834085  1.99661551]])=0.004727
5568 : energy([[-5.0014102   3.00834085  1.99721567]])=0.004128
5584 : energy([[-5.00051891  3.00704409  1.9969727 ]])=0.003237
5599 : energy([[-4.99964782  3.00560519  1.9969727 ]])=0.002775
5718 : energy([[-4.99964782  3.00093459  1.99935104]])=0.000443
solution:  energy([[-4.99964782  3.00093459  1.99935104]])=0.000443
```
## hillClimbingScheduling.py
利用[hillClimbingScheduling.py](04-framework\hillClimbingScheduling.py)來排課表。<br>
依據一些自訂的加扣分規定，找出最好的課表。<br>
利用[solutionScheduling.py](04-framework\solutionScheduling.py)先排出一個初始課表，並定義加扣分機制。<br>
執行結果:<br>
```
start:  score=28.000000
 A11:網站 A12:網路 A13:電子 A14:演算 A15:線代 A16:網站 A17:視窗 
 A21:網站 A22:網頁 A23:電子 A24:網路 A25:科學 A26:軟工 A27:軟工 
 A31:網路 A32:電子 A33:網頁 A34:智慧 A35:電子 A36:演算 A37:電子 
 A41:媒體 A42:智慧 A43:智慧 A44:網頁 A45:科學 A46:視窗 A47:網路 
 A51:系統 A52:計概 A53:視窗 A54:機率 A55:工數 A56:動畫 A57:智慧 
 B11:離散 B12:智慧 B13:　　 B14:線代 B15:媒體 B16:嵌入 B17:線代 
 B21:結構 B22:媒體 B23:系統 B24:媒體 B25:系統 B26:智慧 B27:系統 
 B31:網站 B32:計概 B33:機率 B34:科學 B35:　　 B36:線代 B37:結構 
 B41:科學 B42:演算 B43:智慧 B44:媒體 B45:演算 B46:系統 B47:結構 
 B51:智慧 B52:軟工 B53:　　 B54:動畫 B55:電子 B56:結構 B57:行動 


1 : score=26.000000
 A11:網站 A12:網路 A13:電子 A14:演算 A15:線代 A16:網站 A17:視窗 
 A21:網站 A22:網頁 A23:電子 A24:網路 A25:科學 A26:軟工 A27:軟工 
 A31:網路 A32:電子 A33:網頁 A34:智慧 A35:電子 A36:演算 A37:電子 
 A41:媒體 A42:智慧 A43:智慧 A44:網頁 A45:科學 A46:視窗 A47:網路 
 A51:系統 A52:計概 A53:視窗 A54:機率 A55:工數 A56:動畫 A57:行動
 B11:離散 B12:智慧 B13:　　 B14:線代 B15:媒體 B16:嵌入 B17:線代
 B21:結構 B22:媒體 B23:系統 B24:媒體 B25:系統 B26:智慧 B27:系統
 B31:網站 B32:計概 B33:機率 B34:科學 B35:　　 B36:線代 B37:結構
 B41:科學 B42:演算 B43:智慧 B44:媒體 B45:演算 B46:系統 B47:結構
 B51:智慧 B52:軟工 B53:　　 B54:動畫 B55:電子 B56:結構 B57:行動


(中間省略)


29989 : score=-3.900000
 A11:　　 A12:工數 A13:工數 A14:工數 A15:機率 A16:機率 A17:電子
 A21:　　 A22:電子 A23:電子 A24:電子 A25:智慧 A26:智慧 A27:智慧
 A31:　　 A32:軟工 A33:軟工 A34:軟工 A35:視窗 A36:視窗 A37:視窗
 A41:　　 A42:網頁 A43:網頁 A44:網頁 A45:系統 A46:系統 A47:系統
 A51:　　 A52:離散 A53:離散 A54:離散 A55:動畫 A56:動畫 A57:動畫
 B11:　　 B12:嵌入 B13:嵌入 B14:嵌入 B15:結構 B16:結構 B17:結構
 B21:　　 B22:網站 B23:網站 B24:網站 B25:媒體 B26:媒體 B27:媒體
 B31:　　 B32:網路 B33:網路 B34:網路 B35:科學 B36:科學 B37:科學
 B41:　　 B42:演算 B43:演算 B44:演算 B45:計概 B46:計概 B47:計概
 B51:　　 B52:行動 B53:行動 B54:行動 B55:線代 B56:線代 B57:線代


solution:  score=-3.900000 
 A11:　　 A12:工數 A13:工數 A14:工數 A15:機率 A16:機率 A17:電子
 A21:　　 A22:電子 A23:電子 A24:電子 A25:智慧 A26:智慧 A27:智慧
 A31:　　 A32:軟工 A33:軟工 A34:軟工 A35:視窗 A36:視窗 A37:視窗
 A41:　　 A42:網頁 A43:網頁 A44:網頁 A45:系統 A46:系統 A47:系統
 A51:　　 A52:離散 A53:離散 A54:離散 A55:動畫 A56:動畫 A57:動畫
 B11:　　 B12:嵌入 B13:嵌入 B14:嵌入 B15:結構 B16:結構 B17:結構
 B21:　　 B22:網站 B23:網站 B24:網站 B25:媒體 B26:媒體 B27:媒體
 B31:　　 B32:網路 B33:網路 B34:網路 B35:科學 B36:科學 B37:科學
 B41:　　 B42:演算 B43:演算 B44:演算 B45:計概 B46:計概 B47:計概
 B51:　　 B52:行動 B53:行動 B54:行動 B55:線代 B56:線代 B57:線代

```
# 模擬退火法
先給一個高溫，讓自由度高一點(克服爬山演算法只能往下走的問題)，使程式能夠跨越小山丘找到更好的解。
![](https://github.com/ja1223/ai109b/blob/main/0304/images/annealing.jpg)<br>
在[annealing.py](04-framework\annealing.py)寫模擬退火法的主要函式。<br>
